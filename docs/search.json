[{"path":[]},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"introduction","dir":"Articles","previous_headings":"Methods","what":"Introduction","title":"Introduction to Principal Surrogate Evaluation in R","text":"valid principal surrogate endpoint can used primary endpoint evaluating treatments phase II clinical trials predicting individual treatment effects post licensure. surrogate considered valid provides reliable predictions treatment effects clinical endpoint interest. Frangakis Rubin (2002) introduced concept principal stratification definition principal surrogate (PS). Informally, post-treatment intermediate response variable principal surrogate causal effects treatment clinical outcome exist causal effects treatment intermediate variable exist. criteria PS modified extended recent works, current literature focusing wide effect modification primary criterion interest; tests wide effect modification implemented package. goal PS evaluation estimation testing treatment efficacy clinical outcome interest varies subgroups defined possible treatment surrogate combinations interest; effect modification objective. combinations interest called principal strata include set unobservable counterfactual responses: responses occurred set conditions counter observed conditions. finesse problem unobservable responses, variety clever trial designs estimation approaches proposed. Several implemented pseval package (Sachs Gabriel 2016).","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"notation","dir":"Articles","previous_headings":"Methods","what":"Notation","title":"Introduction to Principal Surrogate Evaluation in R","text":"Let ZiZ_i treatment indicator subject ii, 0 indicates control standard treatment, 1 indicates experimental treatment. currently allow two levels treatment assume treatment assignments randomized. Let SiS_i observed value intermediate response subject ii. Since SiS_i can affected treatment, two naturally occurring counterfactual values SiS_i: Si(1)S_i(1) treatment, Si(0)S_i(0) control. Let szs_z realization random variable S(z)S(z), z∈{0,1}z \\\\{0, 1\\}. outcome interest denoted YiY_i. consider counterfactual values Yi(0)Y_i(0) Yi(1)Y_i(1). allow binary, count, time--event outcomes, thus YiY_i may vector containing time variable event/censoring indicator, .e. Yi=(Ti,Δi)Y_i = (T_i, \\Delta_i) Δi=1\\Delta_i = 1 TiT_i event time, Δi=0\\Delta_i = 0 TiT_i censoring time. methods, Si(z)S_i(z) defined clinical outcome Yi(z)Y_i(z) occur potential surrogate Si(z)S_i(z) measured fixed time τ\\tau entry study. data analyses include participants experienced clinical outcome time τ\\tau. interpretability methods assume individual-level treatment effects YY τ\\tau, refer “Equal early individual risk” assumption .","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"estimands","dir":"Articles","previous_headings":"Methods","what":"Estimands","title":"Introduction to Principal Surrogate Evaluation in R","text":"Criteria SS good surrogate based risk estimands condition potential intermediate responses. risk defined mapping gg cumulative distribution function Y(z)Y(z) conditional intermediate responses. joint risk estimands conditions candidate surrogate level treatment, (S(1),S(0))(S(1), S(0)). $$ risk_1(s_1, s_0) = g\\left\\{F_{s_1}\\left[Y(1) | S(0) = s_0, S(1) = s_1\\right]\\right\\}, \\\\ risk_0(s_1, s_0) = g\\left\\{F_{s_1}\\left[Y(0) | S(0) = s_0, S(1) = s_1\\right]\\right\\}. $$ instance, binary outcome, risk function may simply probability riskz(s1,s0)=P(Y(z)=1|S(0)=s0,S(1)=s1)risk_z(s_1, s_0) = P(Y(z) = 1 | S(0) = s_0, S(1) = s_1), time--event outcome risk function may cumulative distribution function riskz(s1,s0)=P(Y(z)≤t|S(0)=s0,S(1)=s1)risk_z(s_1, s_0) = P(Y(z) \\leq t | S(0) = s_0, S(1) = s_1). Currently focus marginal risk estimands condition S(1)S(1), intermediate response biomarker active treatment: $$ risk_1(s_1) = g\\left\\{F_{s_1}\\left[Y(1) | S(1) = s_1\\right]\\right\\}, \\\\ risk_0(s_1) = g\\left\\{F_{s_1}\\left[Y(0) | S(1) = s_1\\right]\\right\\}. $$ Neither joint risk estimands identifiable standard randomized trial, either S(0) S(1) missing subject. special case S(0)S(0) constant, immune response HIV antigens Hep B placebo arm vaccine trial, joint marginal risk estimands equivalent. special case referred case constant biomarker (CB) much literature (Gilbert Hudgens 2008); S_i(0) = c subjects . may occur outside vaccine setting one considers AUC treatment drug surrogate; receiving placebo drug therefore placebo AUC 0. assumptions given , case CB setting, marginal risk estimand identifiable treatment arm. well, outlined , specific trial augmentations allow measurement imputation missing counterfactual Ss. one augmentations, case CB can sometimes induced considering function candidate surrogate evaluation. Greater detail point given . Specification distributions Y(z)|S(1)Y(z) | S(1) determines likelihood, denote f(y|β,s1,z)f(y | \\beta, s_1, z). S(1)S(1) fully observed, simple maximum likelihood estimation used. key challenge estimating risk estimands solving problem conditioning counterfactual values observable least subset subjects randomized trial. involves integrating missing values based models /set assumptions.","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"principal-surrogate-criteria","dir":"Articles","previous_headings":"Methods","what":"Principal Surrogate Criteria","title":"Introduction to Principal Surrogate Evaluation in R","text":"Frangakis Rubin (2002) gave single criterion biomarker S PS: causal effects treatment clinical outcome exist causal effects treatment intermediate variable exist. general can evaluated using joint risk estimands, consider counterfactual values biomarker treatment, also control S(0)S(0). However, special case S(0)S(0) values constant, say level CC, immune response HIV HIV negative population pre-vaccination criteria, often referred average causal necessity (ACN), can written terms marginal risk estimands : risk1(C)=risk0(C)   risk_1(C)=risk_0(C) recently, works Gilbert Hudgens (2008), Wolfson Gilbert (2010), Ying Huang, Gilbert, Wolfson (2013), Erin E. Gabriel Gilbert (2014), Erin E. Gabriel Follmann (2015) suggested criterion restrictive cases can vacuously true. Instead current works suggest wide effect modification (WEM) criterion primary importance, ACN secondary importance. WEM given formally terms risk estimands known contrast function hh satisfying h(x,y)=0h(x, y) = 0 x=yx = y : |h(risk1(s1),risk0(s1))−h(risk1(s1*),risk0(s1*))|>δ   |h(risk_1(s_1),risk_0(s_1)) - h(risk_1(s{_1}^*),risk_0(s{_1}^*))|>\\delta least s1≠s1*s_1 \\neq s_{1}^* δ>0\\delta>0, larger δ\\delta better. evaluate WEM ACN need identify risk estimands.","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"augmentation-and-assumptions","dir":"Articles","previous_headings":"Methods","what":"Augmentation and Assumptions","title":"Introduction to Principal Surrogate Evaluation in R","text":"first make three standard assumptions used much literature absorbing events outcomes: Stable Unit Treatment Value Assumption (SUTVA): Observations independent units trial unaffected treatment assignment units. Ignorable Treatment Assignment: observed treatment assignment change counterfactual clinical outcome. Equal individual risk time candidate surrogate measurement τ\\tau. time--event settings one assumption needed: Non-informative censoring. noted equal individual risk assumption requires time--event analysis start time τ\\tau, rather randomization. Wolfson Gilbert (2010) outlines assumptions needed identification risk estimands. Now deal missing S(1)S(1) values among Z=0Z = 0, next focus three trial augmentations: Baseline immunogenicity predictor (BIP), closeout placebo vaccination (CPV), baseline surrogate measurement (BSM). details augmentations, refer Follmann (2006), Gilbert Hudgens (2008), Erin E. Gabriel Gilbert (2014), Erin E. Gabriel Follmann (2015).","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"bip","dir":"Articles","previous_headings":"Methods > Augmentation and Assumptions","what":"BIP","title":"Introduction to Principal Surrogate Evaluation in R","text":"Briefly, BIP WW baseline measurement set measurements highly correlated SS. particularly useful WW unlikely associated clinical outcome conditioning SS, .e. Y⊥W|S(1)Y \\perp W | S(1); methods leverage assumption. BIP WW used integrate missing S(1)S(1) among Z=0Z = 0 based model S(1)|WS(1) | W estimated among Z=1Z = 1. describe model used next section. assumptions needed BIP useful depend risk model used. BIP included risk model, assumption interaction treatment candidate surrogate needed. However, BIP included risk model, assumption clinical outcome independent BIP given candidate surrogate needed. Although requirement identification risk estimands, found simulations studies correlation BIP S(1)S(1) greater 0.7 needed unbiased estimation finite samples.","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"cpv","dir":"Articles","previous_headings":"Methods > Augmentation and Assumptions","what":"CPV","title":"Introduction to Principal Surrogate Evaluation in R","text":"CPV augmented design, control recipients events end follow-period given experimental treatment. intermediate response measured time post treatment. measurement used direct imputation missing S(1)S(1). augmentation developed setting vaccine trials, surrogate immune response outcome infection. One set conservative assumptions use CPV direct imputation S(1)S(1) given Wolfson Gilbert (2010) : Time constancy true intermediate response active treatment, S(1)=SCPVS(1)=S_{CPV} almost surely, placebo recipients crossed end trial, SCPVS_{CPV} measurement candidate surrogate crossover treatment placebo subjects. events (infections) close-period","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"bsm","dir":"Articles","previous_headings":"Methods > Augmentation and Assumptions","what":"BSM","title":"Introduction to Principal Surrogate Evaluation in R","text":"Erin E. Gabriel Gilbert (2014) suggested baseline augmentation BSM, pre-treatment measurement candidate PS, denoted SBS_B. BSM may good predictor S(1)S(1) without assumptions. can used way BIP. Alternatively can transform S(1)−SBS(1) - S_B use candidate surrogate, increasing association BSM/BIP. BSM assumption outlined Erin E. Gabriel Gilbert (2014); Time constancy true intermediate response control, S(0)=SBSMS(0)=S_{BSM} almost surely. need assumption use BSM, holds induces CB case, thus joint marginal risk estimands equivalent.","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"estimated-maximum-likelihood","dir":"Articles","previous_headings":"Methods","what":"Estimated Maximum Likelihood","title":"Introduction to Principal Surrogate Evaluation in R","text":"Let f(y|β,s1,z)f(y | \\beta, s_1, z) denote density Y|S(1),ZY | S(1), Z parameters β\\beta. let RiR_i denote indicator missingness Si(1)S_i(1). proceed estimate β\\beta maximizing ∏=1n{f(Yi|β,Si(1),Zi)}iR{∫f(Yi|β,s,Zi)dF̂S(1)|W(s|Wi)}1−Ri   \\prod_{= 1}^n \\left\\{f(Y_i | \\beta, S_i(1), Z_i)\\right\\}^R_i \\left\\{\\int f(Y_i | \\beta, s, Z_i) \\, d \\hat{F}_{S(1) | W}(s | W_i)\\right\\}^{1 - R_i} respect β\\beta. procedure called estimated maximum likelihood (EML) developed Pepe Fleming (1991). key idea averaging likelihood contributions subjects missing S(1)S(1) respect estimated distribution S(1)|WS(1) | W. BIP WW strongly associated S(1)S(1) needed adequate performance. Closed-form inference available EML estimates, thus recommend use bootstrap estimation standard errors. suggested approach principal surrogate evaluation Gilbert Hudgens (2008) Y. Huang Gilbert (2011). ##Pseudoscore Ying Huang, Gilbert, Wolfson (2013) suggest different estimation procedure closed form variance estimator. Instead numerically optimizing estimated likelihood, pseudoscore approach iteratively finds solution weighted versions score equations. Pseudoscore estimates also suggested Wolfson (2009) implemented several special cases Ying Huang, Gilbert, Wolfson (2013). implemented one special cases: categorical BIPBIP binary YY (SS may continuous categorical). addition closed form variance estimators, argued pseudo-score estimators efficient EML estimators. closed form variance estimates yet implemented.","code":""},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"package-features","dir":"Articles","previous_headings":"Methods","what":"Package features","title":"Introduction to Principal Surrogate Evaluation in R","text":"Typically, users code likelihood, integration models, perform optimization . beyond reach many researchers desire use methods. goal pseval correctly implement methods flexible user-friendly interface, enabling researchers implement interpret wide variety models. pseval package allows users specify type augmented design used study, specify form risk model along distribution Y|S(1)Y | S(1), specify different integration models estimate distribution S(1)|WS(1) | W. likelihood can maximized bootstraps run. Post-estimation summaries available display analyze treatment efficacy function S(1)S(1). implemented flexible familiar interface.","code":""},{"path":[]},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"installation","dir":"Articles","previous_headings":"Package information","what":"Installation","title":"Introduction to Principal Surrogate Evaluation in R","text":"pseval R package aimed implementing existing methods surrogate evaluation using flexible common interface. Development take place Github page, current version package can installed shown . First must install devtools package, haven’t already install.packages(\"devtools\"). can installed CRAN:","code":"devtools::install_github(\"sachsmc/pseval\") install.packages(\"pseval\")"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"usage","dir":"Articles","previous_headings":"Package information","what":"Usage","title":"Introduction to Principal Surrogate Evaluation in R","text":"walk basic analyses point view new R user. Along way highlight main features pseval. pseval supports binary outcomes time--event, thus also need load survival package. First let’s create example dataset. package provides function generate_example_data takes single argument: sample size. example data includes time--event outcome, binary outcome, surrogate, BIP, CPV, BSM, categorical version surrogate. true model time exponential, parameters (intercept) = -1, S(1) = 0.0, Z = 0.0, S(1):Z = -0.75. true model binary logistic, parameter values. table S.obs.cat BIP.cat formed S.obs.cat <- factor(S.obs,levels=c(-Inf, quantile(c(S.0, S.1), c(.25, .5, .75), na.rm = TRUE), Inf)) similarly BIP.cat. Alternatively user input arbitrary numeric values represent different discrete subgroups (e.g., 0s 1s denote 2 subgroups).","code":"library(pseval) library(survival) set.seed(1492) fakedata <- generate_example_data(n = 800) head(fakedata)"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"the-psdesign-object","dir":"Articles","previous_headings":"Package information > Usage","what":"The \"psdesign\" object","title":"Introduction to Principal Surrogate Evaluation in R","text":"begin creating \"psdesign\" object synonymous function. object combines raw dataset information study design structure data. Subsequent analysis operate psdesign object. designed analogous svydesign function survey package (https://CRAN.R-project.org/package=survey). first argument data frame data stored. subsequent arguments describe mappings variable names data frame important variables PS analysis, using notation . optional weights argument describes sampling weights, present. first analysis use binary version outcome, continuous S.1S.1 BIP labeled BIPBIP. object print method, can inspect result. printout displays brief description data, including empirical treatment efficacy estimate, variables used analysis corresponding variables original dataset. Finally printout invites user see help page add_integration, order add integration model psdesign object, next step analysis. Missing values SS variable allowed. Note cases S(1)S(1) missing integrated likelihood score equations. Thus cases experienced event prior time τ\\tau surrogate measured excluded dataset. equal individual risk assumption allows us make causal inferences even excluding cases. psdesign easily accommodates case-control case-cohort sampling. case, surrogate SS measured subset data, inducing missingness SS design. Let’s modify fake dataset see works. ’re going sample cases, 20% controls measurement SS. Now can create \"psdesign\" object, using entire dataset (including missing S.obs) passing weights weights field. augmentation types can defined mapping variables names BIP, CPV, /BSM. augmentations handled described previous section: CPV used direct imputation S(1)S(1), BSM used direct imputation S(0)S(0). BIPs BSMs made available augmented dataset use integration models describe next subsection. survival outcomes, key assumption potential surrogate measured fixed time τ\\tau entry study. subjects clinical outcome prior τ\\tau removed analysis, warning. tau specified psdesign object, assumed 0. Survival outcomes specified mapping Y Surv object, requires survival package:","code":"binary.ps <- psdesign(data = fakedata, Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) binary.ps ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights    BIP ## 1 0 0  NA  0.3527          1  0.335 ## 2 0 0  NA  1.4669          1  1.454 ## 3 0 1  NA -0.7319          1 -0.724 ## 4 0 0  NA -0.0183          1 -0.118 ## 5 0 1  NA -0.1847          1 -0.235 ## 6 0 0  NA -0.6631          1 -0.778 ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##  ## Integration models:  ##  None present, see ?add_integration for information on integration models. ##  ## Risk models:  ##  None present, see ?add_riskmodel for information on risk models. ##  No estimates present, see ?ps_estimate. ##  No bootstraps present, see ?ps_bootstrap. fakedata.cc <- fakedata missdex <- sample((1:nrow(fakedata.cc))[fakedata.cc$Y.obs == 0],         size = floor(sum(fakedata.cc$Y.obs == 0) * .8)) fakedata.cc[missdex, ]$S.obs <- NA fakedata.cc$weights <- ifelse(fakedata.cc$Y.obs == 1, 1, .2) binary.cc <- psdesign(data = fakedata.cc, Z = Z, Y = Y.obs, S = S.obs,                        BIP = BIP, weights = weights) surv.ps <- psdesign(data = fakedata, Z = Z, Y = Surv(time.obs, event.obs), S = S.obs,                          BIP = BIP, CPV = CPV, BSM = BSM) ## Warning in psdesign(data = fakedata, Z = Z, Y = Surv(time.obs, event.obs), : ## tau missing in psdesign: assuming that the surrogate S was measured at time 0."},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"integration-models","dir":"Articles","previous_headings":"Package information > Usage","what":"Integration models","title":"Introduction to Principal Surrogate Evaluation in R","text":"EML procedure requires estimate FS(1)|WF_{S(1) | W}, refer integration model. Details available help page add_integration, shown . Several integration models implemented, including parametric model uses formula interface define regression model, semiparametric model specifies location scale model robust specification distribution, non-parametric model uses empirical conditional probability estimates discrete WW S(1)S(1). Add integration model psdesign object psdesign object integration object list available integration models. fundamental problem surrogate evaluation unobserved values counterfactual surrogate responses S(1). estimated maximum likelihood framework, subjects missing S(1) values, use auxiliary pre-treatment variable set variables W observed every subject estimate distribution S(1) | W. Typically, W BIP. missing S(1), integrate likelihood contributions non-missing S(1) given value W, average contributions. integrate_parametric parametric integration model fits linear model mean S(1) | W assumes Gaussian distribution. integrate_bivnorm another parametric integration model assumes S(1) W jointly normally distributed. user must specify mean, variances correlation. integrate_nonparametric non-parametric integration model valid categorical S(1) W. uses observed proportions estimate joint distribution S(1), W. integrate_semiparametric semi-parametric model uses semi-parametric location scale model Heagerty Pepe (1999). Models specified location S(1) | W scale S(1) | W. integrations drawn empirical distribution residuals model, transformed appropriate location scale. first example, let’s use parametric integration model. specify mean model S(1)|WS(1) | W formula. predictor generally function BIP BSM, available. can add integration model directly psdesign object inspect results. Note formula, refer variable names augmented dataset. can add multiple integration models psdesign object, say want model S(0)|WS(0) | W: future version package, allow estimation joint risk estimands depend S(0)S(0) S(1)S(1). can also use splines, transformations, variables formula: shown examples, proceed simple linear model integration. integration models called integrate_bivnorm, integrate_nonparametric, integrate_semiparametric. See help files details models specification. next step define risk model. proceed simple parametric integration model.","code":"?add_integration add_integration(psdesign, integration) test <- psdesign(generate_example_data(n = 100), Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) add_integration(test, integrate_parametric(S.1 ~ BIP)) test + integrate_parametric(S.1 ~ BIP)  # same as above binary.ps <- binary.ps + integrate_parametric(S.1 ~ BIP) binary.ps ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights    BIP ## 1 0 0  NA  0.3527          1  0.335 ## 2 0 0  NA  1.4669          1  1.454 ## 3 0 1  NA -0.7319          1 -0.724 ## 4 0 0  NA -0.0183          1 -0.118 ## 5 0 1  NA -0.1847          1 -0.235 ## 6 0 0  NA -0.6631          1 -0.778 ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_parametric(formula = S.1 ~ BIP ) ##  ## Risk models:  ##  None present, see ?add_riskmodel for information on risk models. ##  No estimates present, see ?ps_estimate. ##  No bootstraps present, see ?ps_bootstrap. binary.ps + integrate_parametric(S.0 ~ BIP) ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights    BIP ## 1 0 0  NA  0.3527          1  0.335 ## 2 0 0  NA  1.4669          1  1.454 ## 3 0 1  NA -0.7319          1 -0.724 ## 4 0 0  NA -0.0183          1 -0.118 ## 5 0 1  NA -0.1847          1 -0.235 ## 6 0 0  NA -0.6631          1 -0.778 ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_parametric(formula = S.1 ~ BIP ) ##   integration model for  S.0 : ##       integrate_parametric(formula = S.0 ~ BIP ) ##  ## Risk models:  ##  None present, see ?add_riskmodel for information on risk models. ##  No estimates present, see ?ps_estimate. ##  No bootstraps present, see ?ps_bootstrap. library(splines) binary.ps + integrate_parametric(S.1 ~ BIP^2) binary.ps + integrate_parametric(S.1 ~ bs(BIP, df = 3)) binary.ps + integrate_parametric(S.1 ~ BIP + BSM + BSM^2)"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"risk-models-and-likelihoods","dir":"Articles","previous_headings":"Package information > Usage","what":"Risk models and likelihoods","title":"Introduction to Principal Surrogate Evaluation in R","text":"risk model specification distribution outcome YY given S(1)S(1) ZZ. accommodate variety flexible specifications model, binary, time--event, count outcomes. implemented exponential weibull survival models, flexible specification binary models, allowing standard custom link functions. See help file add_riskmodel details. Add risk model psdesign object psdesign object risk model object, list risk model component specifies likelihood data. involves specifying distribution outcome variable, whether binary time--event, specifying surrogate S(1) treatment Z interact affect outcome. use formula notation consistent regression type models R. list available risk models. risk_binary generic risk model binary outcomes. user can specify formula, link function using either risk.logit logistic link, risk.probit probit link. Custom link functions may also specified, take single numeric vector argument, returns vector corresponding probabilities. risk_weibull parameterization Weibull model time--event outcomes consistent rweibull. user specifies formula linear predictor scale parameter. risk_exponential simple exponential model time--event outcome. risk_poisson Poisson model count outcomes. allows offsets formula. risk_continuous Gaussian model continuous outcomes. assumes larger values outcome harmful (e.g. blood pressure) Let’s add simple binary risk model using logit link. argument D specifies number samples use simulated annealing, also known empirical integration, EML procedure. general, D set something reasonably large, like 2 3 times sample size.","code":"?add_riskmodel add_riskmodel(psdesign, riskmodel) test <- psdesign(generate_example_data(n = 100), Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) +      integrate_parametric(S.1 ~ BIP) add_riskmodel(test, risk_binary()) test + risk_binary() # same as above binary.ps <- binary.ps + risk_binary(model = Y ~ S.1 * Z, D = 5, risk = risk.logit) binary.ps ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights    BIP ## 1 0 0  NA  0.3527          1  0.335 ## 2 0 0  NA  1.4669          1  1.454 ## 3 0 1  NA -0.7319          1 -0.724 ## 4 0 0  NA -0.0183          1 -0.118 ## 5 0 1  NA -0.1847          1 -0.235 ## 6 0 0  NA -0.6631          1 -0.778 ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_parametric(formula = S.1 ~ BIP ) ##  ## Risk models:  ##   risk_binary(model = Y ~ S.1 * Z, D = 5, risk = risk.logit ) ##  ##  No estimates present, see ?ps_estimate. ##  No bootstraps present, see ?ps_bootstrap."},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"estimation-and-bootstrap","dir":"Articles","previous_headings":"Package information > Usage","what":"Estimation and Bootstrap","title":"Introduction to Principal Surrogate Evaluation in R","text":"estimate parameters bootstrap using type syntax. can add \"ps_estimate\" object, takes optional arguments start starting values, arguments passed optim function. method argument determines optimization method, found “BFGS” works well types problems default. Use \"pseudo-score\" method argument pseudo-score estimation binary risk models categorical BIPs. ps_bootstrap function takes additional arguments n.boots number bootstrap replicates, progress.bar logical displays progress bar R console true. helpful pass estimates starting values bootstrap resampling. estimates bootstrap replicates present, printing psdesign object displays additional information. real examples use 10 bootstrap replicates.","code":"binary.est <- binary.ps + ps_estimate(method = \"BFGS\") binary.boot <- binary.est + ps_bootstrap(n.boots = 10, progress.bar = FALSE,                              start = binary.est$estimates$par, method = \"BFGS\") binary.boot ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights    BIP ## 1 0 0  NA  0.3527          1  0.335 ## 2 0 0  NA  1.4669          1  1.454 ## 3 0 1  NA -0.7319          1 -0.724 ## 4 0 0  NA -0.0183          1 -0.118 ## 5 0 1  NA -0.1847          1 -0.235 ## 6 0 0  NA -0.6631          1 -0.778 ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_parametric(formula = S.1 ~ BIP ) ##  ## Risk models:  ##   risk_binary(model = Y ~ S.1 * Z, D = 5, risk = risk.logit ) ##  ## Estimated parameters: ## (Intercept)         S.1           Z       S.1:Z  ##      -0.919      -0.028      -0.221      -1.133  ##  Convergence:  TRUE  ##  ## Bootstrap replicates: ##             Estimate boot.se lower.CL.2.5. upper.CL.97.5.  p.value ## (Intercept)   -0.919   0.131        -1.286         -0.884 2.69e-12 ## S.1           -0.028   0.142        -0.130          0.306 8.44e-01 ## Z             -0.221   0.152        -0.269          0.195 1.46e-01 ## S.1:Z         -1.133   0.272        -1.668         -0.870 3.12e-05 ##  ##   Out of 10 bootstraps,  10 converged ( 100 %) ##  ##   Test for wide effect modification on 1 degree of freedom. 2-sided p value  < .0001"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"do-it-all-at-once","dir":"Articles","previous_headings":"Package information > Usage","what":"Do it all at once","title":"Introduction to Principal Surrogate Evaluation in R","text":"next code chunk shows model can defined estimated .","code":"binary.est <- psdesign(data = fakedata, Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) +    integrate_parametric(S.1 ~ BIP) +    risk_binary(model = Y ~ S.1 * Z, D = 50, risk = risk.logit) +    ps_estimate(method = \"BFGS\")"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"plots-and-summaries","dir":"Articles","previous_headings":"Package information > Usage","what":"Plots and summaries","title":"Introduction to Principal Surrogate Evaluation in R","text":"provide summary plotting methods psdesign object. bootstrap replicates present, summary method test wide effect modification. parametric risk models implemented package, test wide effect modification equivalent test S(1):ZS(1):Z coefficient different 0. implemented using Wald test using bootstrap estimate variance. Another way assess wide effect modification compute standardized total gain (STG) (Erin E. Gabriel, Sachs, Gilbert 2015). implemented calc_STG function. standardized total gain can interpreted area sandwiched risk difference curve horizontal line marginal risk difference. measure spread distribution risk difference, less parametric way test wide effect modification. calc_STG function computes STG estimated parameters, bootstrap samples, present. function prints results invisibly returns list containing observed STG, bootstrapped STGS. summary method also computes marginal treatment efficacy marginalized S(1)S(1) compares average treatment efficacy conditional S(1)S(1). assessment model fit. warning given two estimates dramatically different. estimates presented summary along empirical marginal treatment efficacy. calc_risk function computes risk treatment arm, contrasts risks. default computes treatment efficacy, contrast functions available. contrast function function takes 2 inputs, risk0risk_0 risk1risk_1, returns one dimensional function two inputs. must vectorized. built-functions “TE” treatment efficacy =1−risk1(s)/risk0(s)= 1 - risk_1(s)/risk_0(s), “RR” relative risk =risk1(s)/risk0(s)= risk_1(s)/risk_0(s), “logRR” log relative risk, “RD” risk difference =risk1(s)−risk0(s)= risk_1(s) -risk_0(s). can pass name function, function calc_risk. See ?calc_risk information contrast functions. arguments calc_risk function include t, time calculate risk time--event outcomes, n.samps number samples range S.1 risk calculated, CI.type, can set \"pointwise\" pointwise confidence intervals \"band\" simultaneous confidence band. sig.level significance level bootstrap confidence intervals. outcome time--event tt present, use restricted mean survival time. easy plot risk estimates. default, plot method displays TE contrast, can changed using syntax calc_risk. Plot showing estimates using example data, along confidence bands (CB), true treatment efficacy (TE) curve. default, plots psdesign objects bootstrap samples display simultaneous confidence bands curve. bands LαL\\alpha satisfy P{sups∈B|VÊ(s)−VE(s)|≤Lα}≤1−α, P\\left\\{\\sup_{s \\B} | \\hat{VE}(s) - VE(s) | \\leq L_\\alpha \\right\\} \\leq 1 - \\alpha, confidence level α\\alpha. alternative use pointwise confidence intervals, option CI.type = \"pointwise\". intervals satisfy P{L̂α≤VE(s)≤Ûα}≤1−α, s. P\\left\\{\\hat{L}_\\alpha \\leq VE(s) \\leq \\hat{U}_\\alpha\\right\\} \\leq 1 - \\alpha, \\mbox{ } s. Different summary measures available plotting. options “TE” treatment efficacy = 1−risk1(s)/risk0(s)1 - risk_1(s)/risk_0(s), “RR” relative risk = risk1(s)/risk0(s)risk_1(s)/risk_0(s), “logRR” log relative risk, “risk” risk treatment arm, “RD” risk difference = risk1(s)−risk0(s)risk_1(s) - risk_0(s). can also transform using log option plot. Plot illustrating ways different risk contrast functions can plotted. calc_risk function workhorse creates plots. can call function directly obtain estimates, standard errors, confidence intervals estimated risk treatment arm transformations risk like TE. parameter n.samps determines number points calculate risk. points evenly spaced range S.1. Use function compute summaries, make plots using ggplot2 lattice .","code":"calc_STG(binary.boot, progress.bar = FALSE) smary <- summary(binary.boot) ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights    BIP ## 1 0 0  NA  0.3527          1  0.335 ## 2 0 0  NA  1.4669          1  1.454 ## 3 0 1  NA -0.7319          1 -0.724 ## 4 0 0  NA -0.0183          1 -0.118 ## 5 0 1  NA -0.1847          1 -0.235 ## 6 0 0  NA -0.6631          1 -0.778 ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_parametric(formula = S.1 ~ BIP ) ##  ## Risk models:  ##   risk_binary(model = Y ~ S.1 * Z, D = 5, risk = risk.logit ) ##  ## Estimated parameters: ## (Intercept)         S.1           Z       S.1:Z  ##      -0.919      -0.028      -0.221      -1.133  ##  Convergence:  TRUE  ##  ## Bootstrap replicates: ##             Estimate boot.se lower.CL.2.5. upper.CL.97.5.  p.value ## (Intercept)   -0.919   0.131        -1.286         -0.884 2.69e-12 ## S.1           -0.028   0.142        -0.130          0.306 8.44e-01 ## Z             -0.221   0.152        -0.269          0.195 1.46e-01 ## S.1:Z         -1.133   0.272        -1.668         -0.870 3.12e-05 ##  ##   Out of 10 bootstraps,  10 converged ( 100 %) ##  ##   Test for wide effect modification on 1 degree of freedom. 2-sided p value  < .0001  ##  ## Treatment Efficacy:  ## empirical  marginal     model  ##     0.526     0.526     0.534  ##  Model-based average TE is 1.6 % different from the empirical and 1.6 % different from the marginal. head(calc_risk(binary.boot, contrast = \"TE\", n.samps = 20), 3) head(calc_risk(binary.boot, contrast = function(R0, R1) 1 - R1/R0, n.samps = 20), 3) plot(binary.boot, contrast = \"TE\", lwd = 2) abline(h = smary$TE.estimates[2], lty = 3)  expit <- function(x) exp(x)/(1 + exp(x)) trueTE <- function(s){      r0 <- expit(-1 - 0 * s)   r1 <- expit(-1 - .75 * s)   1 - r1/r0    }  rug(binary.boot$augdata$S.1) ## Warning in rug(binary.boot$augdata$S.1): some values will be clipped curve(trueTE(x), add = TRUE, col = \"red\") legend(\"bottomright\", legend = c(\"estimated TE\", \"95\\\\% CB\", \"marginal TE\", \"true TE\"),         col = c(\"black\", \"black\", \"black\", \"red\"), lty = c(1, 2, 3, 1), lwd = c(2, 2, 1, 1)) plot(binary.boot, contrast = \"logRR\", lwd = 2, col = c(\"black\", \"grey75\", \"grey75\")) plot(binary.boot, contrast = \"RR\", log = \"y\", lwd = 2, col = c(\"black\", \"grey75\", \"grey75\")) plot(binary.boot, contrast = \"RD\", lwd = 2, col = c(\"black\", \"grey75\", \"grey75\")) plot(binary.boot, contrast = \"risk\", lwd = 2, lty = c(1, 0, 0, 2, 0, 0)) legend(\"topright\", legend = c(\"R0\", \"R1\"), lty = c(1, 2), lwd = 2) te.est <- calc_risk(binary.boot, CI.type = \"pointwise\", n.samps = 200) head(te.est, 3)"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"summary-and-conclusion","dir":"Articles","previous_headings":"","what":"Summary and Conclusion","title":"Introduction to Principal Surrogate Evaluation in R","text":"implemented core methods principal surrogate evaluation pseval package. aim create flexible consistent user interface allows estimation wide variety statistical models framework. work area. Surrogate package implements core methods evaluation trial-level surrogates using meta-analytic framework. also wide variety models, implemented different function long list parameters (Elst et al. 2016). package uses + sign combine function calls single object. called “overloading + operator” famously known ggplot2 package (Wickham 2009). Conceptually, appealing us allows users build analysis objects starting design, ending estimation. distinct analysis concepts design, risk model specification, integration model, estimation/bootstrap approaches separated distinct function calls, limited number parameters. makes easier users keep track models, makes easier understand methods involved, allows specification wide variety models mixing matching function calls. framework also make easier maintain codebase, extend future methods evolve. package useful novice expert R users alike, implements important set statistical methods first time.","code":""},{"path":[]},{"path":[]},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"plot-both-types-of-ci","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Plot both types of CI","title":"Introduction to Principal Surrogate Evaluation in R","text":"","code":"plot(binary.boot, contrast = \"TE\", lwd = 2, CI.type = \"band\") sbs <- calc_risk(binary.boot, CI.type = \"pointwise\", n.samps = 200) lines(Y.lower.CL.2.5 ~ S.1, data = sbs, lty = 3, lwd = 2) lines(Y.upper.CL.97.5 ~ S.1, data = sbs, lty = 3, lwd = 2) legend(\"bottomright\", lwd = 2, lty = 1:3,         legend = c(\"estimate\", \"simultaneous CI\", \"pointwise CI\"))"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"plot-with-ggplot2","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Plot with ggplot2","title":"Introduction to Principal Surrogate Evaluation in R","text":"","code":"library(ggplot2) TE.est <- calc_risk(binary.boot, n.samps = 200) ggplot(TE.est,         aes(x = S.1, y = Y, ymin = Y.lower.CL.0.95, ymax = Y.upper.CL.0.95)) +    geom_line() + geom_ribbon(alpha = .2) + ylab(attr(TE.est, \"Y.function\"))"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"case-control-design","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Case-control design","title":"Introduction to Principal Surrogate Evaluation in R","text":"","code":"cc.fit <- binary.cc + integrate_parametric(S.1 ~ BIP) +    risk_binary(D = 10) + ps_estimate() cc.fit"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"survival-outcome","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Survival outcome","title":"Introduction to Principal Surrogate Evaluation in R","text":"","code":"surv.fit <- psdesign(fakedata, Z = Z, Y = Surv(time.obs, event.obs),                       S = S.obs, BIP = BIP, CPV = CPV) +    integrate_semiparametric(formula.location = S.1 ~ BIP, formula.scale = S.1 ~ 1) +    risk_exponential(D = 10) + ps_estimate(method = \"BFGS\") + ps_bootstrap(n.boots = 20) surv.fit plot(surv.fit)"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"continuous-outcome","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Continuous outcome","title":"Introduction to Principal Surrogate Evaluation in R","text":"","code":"fakedata$Y.cont <- log(fakedata$time.obs + 0.01) cont.fit <- psdesign(fakedata, Z = Z, Y = Y.cont,                       S = S.obs, BIP = BIP, CPV = CPV) +    integrate_semiparametric(formula.location = S.1 ~ BIP, formula.scale = S.1 ~ 1) +    risk_continuous(D = 10) + ps_estimate(method = \"BFGS\") #+ ps_bootstrap(n.boots = 20) cont.fit ## Augmented data frame:  800  obs. by  7  variables.  ##   Z      Y S.1     S.0 cdfweights    BIP   CPV ## 1 0 -1.078  NA  0.3527          1  0.335 1.485 ## 2 0 -2.044  NA  1.4669          1  1.454 2.638 ## 3 0 -1.298  NA -0.7319          1 -0.724    NA ## 4 0 -1.915  NA -0.0183          1 -0.118 0.942 ## 5 0 -0.146  NA -0.1847          1 -0.235    NA ## 6 0 -1.469  NA -0.6631          1 -0.778 0.116 ##  ## Empirical TE:  -0.688  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.cont  ##   S  ->  S.obs  ##   BIP  ->  BIP  ##   CPV  ->  CPV  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_semiparametric(formula.location = S.1 ~ BIP, formula.scale = S.1 ~ 1 ) ##  ## Risk models:  ##   risk_continuous(D = 10 ) ##  ## Estimated parameters: ##       sigma (Intercept)         S.1           Z       S.1:Z  ##      0.0430     -1.4164     -0.0536     -0.0957     -0.8851  ##  Convergence:  TRUE  ##  ##  No bootstraps present, see ?ps_bootstrap. plot(cont.fit, contrast = \"risk\")"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"categorical-s","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Categorical S","title":"Introduction to Principal Surrogate Evaluation in R","text":"S.obs.cat BIP.cat factors:","code":"with(fakedata, table(S.obs.cat, BIP.cat)) cat.fit <- psdesign(fakedata, Z = Z, Y = Y.obs,                       S = S.obs.cat, BIP = BIP.cat) +    integrate_nonparametric(formula = S.1 ~ BIP) +    risk_binary(Y ~ S.1 * Z, D = 10, risk = risk.probit) + ps_estimate(method = \"BFGS\") cat.fit ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y  S.1            S.0 cdfweights             BIP ## 1 0 0 <NA> (-0.198,0.503]          1  (0.0574,0.766] ## 2 0 0 <NA>    (1.36, Inf]          1    (0.766, Inf] ## 3 0 1 <NA>  (-Inf,-0.198]          1   (-Inf,-0.678] ## 4 0 0 <NA> (-0.198,0.503]          1 (-0.678,0.0574] ## 5 0 1 <NA> (-0.198,0.503]          1 (-0.678,0.0574] ## 6 0 0 <NA>  (-Inf,-0.198]          1   (-Inf,-0.678] ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs.cat  ##   BIP  ->  BIP.cat  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_nonparametric(formula = S.1 ~ BIP ) ##  ## Risk models:  ##   risk_binary(model = Y ~ S.1 * Z, D = 10, risk = risk.probit ) ##  ## Estimated parameters: ##         (Intercept)   S.1(-0.198,0.503]     S.1(0.503,1.36]      S.1(1.36, Inf]  ##              0.0277             -1.4012             -1.0295             -0.5233  ##                   Z S.1(-0.198,0.503]:Z   S.1(0.503,1.36]:Z    S.1(1.36, Inf]:Z  ##             -0.2381              0.7468              0.0383             -1.1506  ##  Convergence:  TRUE  ##  ##  No bootstraps present, see ?ps_bootstrap. plot(cat.fit)"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"pseudo-score","dir":"Articles","previous_headings":"Appendix > Additional examples","what":"Pseudo-score","title":"Introduction to Principal Surrogate Evaluation in R","text":"Categorical W allows estimation model using pseudo-score method binary outcomes. SS may continuous categorical:","code":"cat.fit.ps <- psdesign(fakedata, Z = Z, Y = Y.obs,                       S = S.obs, BIP = BIP.cat) +    integrate_nonparametric(formula = S.1 ~ BIP) +    risk_binary(Y ~ S.1 * Z, D = 10, risk = risk.logit) + ps_estimate(method = \"pseudo-score\") +    ps_bootstrap(n.boots = 20, method = \"pseudo-score\") ## Bootstrapping 20 replicates: ## ================================================================================ summary(cat.fit.ps) ## Augmented data frame:  800  obs. by  6  variables.  ##   Z Y S.1     S.0 cdfweights             BIP ## 1 0 0  NA  0.3527          1  (0.0574,0.766] ## 2 0 0  NA  1.4669          1    (0.766, Inf] ## 3 0 1  NA -0.7319          1   (-Inf,-0.678] ## 4 0 0  NA -0.0183          1 (-0.678,0.0574] ## 5 0 1  NA -0.1847          1 (-0.678,0.0574] ## 6 0 0  NA -0.6631          1   (-Inf,-0.678] ##  ## Empirical TE:  0.526  ##  ## Mapped variables:  ##   Z  ->  Z  ##   Y  ->  Y.obs  ##   S  ->  S.obs  ##   BIP  ->  BIP.cat  ##  ## Integration models:  ##   integration model for  S.1 : ##       integrate_nonparametric(formula = S.1 ~ BIP ) ##  ## Risk models:  ##   risk_binary(model = Y ~ S.1 * Z, D = 10, risk = risk.logit ) ##  ## Estimated parameters: ## (Intercept)         S.1           Z       S.1:Z  ##     -0.9341     -0.0143     -0.2058     -1.1462  ##  Convergence:  TRUE  ##  ## Bootstrap replicates: ##             Estimate boot.se lower.CL.2.5. upper.CL.97.5.  p.value ## (Intercept)  -0.9341   0.159        -1.221         -0.707 4.13e-09 ## S.1          -0.0143   0.118        -0.209          0.212 9.03e-01 ## Z            -0.2058   0.195        -0.498          0.129 2.92e-01 ## S.1:Z        -1.1462   0.237        -1.715         -0.914 1.35e-06 ##  ##   Out of 20 bootstraps,  20 converged ( 100 %) ##  ##   Test for wide effect modification on 1 degree of freedom. 2-sided p value  < .0001  ##  ## Treatment Efficacy:  ## empirical  marginal     model  ##     0.526     0.526     0.534  ##  Model-based average TE is 1.5 % different from the empirical and 1.5 % different from the marginal. plot(cat.fit.ps)"},{"path":"https://sachsmc.github.io/pseval/articles/introduction.html","id":"bug-reports","dir":"Articles","previous_headings":"Appendix","what":"Bug reports","title":"Introduction to Principal Surrogate Evaluation in R","text":"Please file bugs suggestions github issue: https://github.com/sachsmc/pseval/issues.","code":""},{"path":[]},{"path":"https://sachsmc.github.io/pseval/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael C Sachs. Author, maintainer. Erin E Gabriel. Author.","code":""},{"path":"https://sachsmc.github.io/pseval/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Michael C. Sachs Erin E. Gabriel (2016). Introduction Principal Surrogate Evaluation pseval Package. R Journal: 8(2); 277-292. URL https://doi.org/10.32614/RJ-2016-046.","code":"@Article{,   author = {Michael C. Sachs and Erin E. Gabriel},   title = {An Introduction to Principal Surrogate Evaluation with the           pseval Package},   year = {2016},   journal = {The R Journal},   doi = {10.32614/RJ-2016-046},   url = {https://doi.org/10.32614/RJ-2016-046},   pages = {277--292},   volume = {8},   number = {2}, }"},{"path":[]},{"path":"https://sachsmc.github.io/pseval/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Methods for Evaluating Principal Surrogates of Treatment Response","text":"pseval R package aimed implementing existing methods surrogate evaluation using flexible common interface. Development take place Github page, current version package can installed CRAN. Check vignette methodological details information use package. Check cheat sheet quick reference.","code":"install.packages(\"pseval\")"},{"path":"https://sachsmc.github.io/pseval/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Methods for Evaluating Principal Surrogates of Treatment Response","text":"Sachs Gabriel, 2016. Introduction Principal Surrogate Evaluation pseval Package Gabriel Gilbert, 2014. Evaluating principal surrogate endpoints time--event data accounting time-varying treatment efficacy Huang Gilbert, 2011. Comparing Biomarkers Principal Surrogate Endpoints Gilbert Hudgens, 2008. Evaluating Candidate Principal Surrogate Endpoints Huang, Gilbert, Wolfson, 2013. Design Estimation Evaluating Principal Surrogate Markers Vaccine Trials","code":""},{"path":"https://sachsmc.github.io/pseval/reference/TE.html","id":null,"dir":"Reference","previous_headings":"","what":"Treatment efficacy contrast functions — TE","title":"Treatment efficacy contrast functions — TE","text":"Treatment efficacy contrast functions","code":""},{"path":"https://sachsmc.github.io/pseval/reference/TE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Treatment efficacy contrast functions — TE","text":"","code":"TE(R0, R1)"},{"path":"https://sachsmc.github.io/pseval/reference/TE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Treatment efficacy contrast functions — TE","text":"R0 vector risks control arm R1 vector risks treatment arm","code":""},{"path":"https://sachsmc.github.io/pseval/reference/TE.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Treatment efficacy contrast functions — TE","text":"vector length R0 R1.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/TE.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Treatment efficacy contrast functions — TE","text":"functions take risk two treatment arms,   computes one-dimensional summary risks. Built-choices   \"TE\" treatment efficacy = 1 - risk_1(s)/risk_0(s), \"RR\"   relative risk = risk_0(s)/risk_1(s), \"logRR\" log relative   risk, \"RD\" risk difference = risk_0(s) - risk_1(s).","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_bootstrap.html","id":null,"dir":"Reference","previous_headings":"","what":"Bootstrap resampling parameters — add_bootstrap","title":"Bootstrap resampling parameters — add_bootstrap","text":"Bootstrap resampling parameters","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_bootstrap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bootstrap resampling parameters — add_bootstrap","text":"","code":"add_bootstrap(psdesign, bootstrap)"},{"path":"https://sachsmc.github.io/pseval/reference/add_bootstrap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bootstrap resampling parameters — add_bootstrap","text":"psdesign psdesign object, must risk model integration model components bootstrap bootstrap object created ps_bootstrap","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_bootstrap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bootstrap resampling parameters — add_bootstrap","text":"","code":"if (FALSE) { # \\dontrun{ test <- psdesign(generate_example_data(n = 100), Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) est1 <- test + integrate_parametric(S.1 ~ BIP) + risk_binary() + ps_estimate(method = \"BFGS\") est1 + ps_bootstrap(method = \"BFGS\", start = est1$estimates$par, n.boots = 50) } # }"},{"path":"https://sachsmc.github.io/pseval/reference/add_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate parameters — add_estimate","title":"Estimate parameters — add_estimate","text":"Estimate parameters","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate parameters — add_estimate","text":"","code":"add_estimate(psdesign, estimate)"},{"path":"https://sachsmc.github.io/pseval/reference/add_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate parameters — add_estimate","text":"psdesign psdesign object, must risk model integration model components estimate estimate object created ps_estimate","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_estimate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate parameters — add_estimate","text":"","code":"test <- psdesign(generate_example_data(n = 100), Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) test + integrate_parametric(S.1 ~ BIP) + risk_binary(D = 50) + ps_estimate(method = \"BFGS\") #> Augmented data frame:  100  obs. by  6  variables.  #>   Z Y   S.1     S.0 cdfweights     BIP #> 1 0 0    NA  0.9050          1  0.8621 #> 2 1 0 0.706      NA          1 -0.2432 #> 3 1 0 0.675      NA          1 -0.2061 #> 4 0 0    NA -0.0366          1  0.0192 #> 5 0 0    NA  0.1348          1  0.0296 #> 6 0 0    NA  0.6176          1  0.5498 #>  #> Empirical TE:  0.775  #>  #> Mapped variables:  #> \t Z  ->  Z  #> \t Y  ->  Y.obs  #> \t S  ->  S.obs  #> \t BIP  ->  BIP  #>  #> Integration models:  #> \t integration model for  S.1 : #> \t\t integrate_parametric(formula = S.1 ~ BIP ) #>  #> Risk models:  #> \t risk_binary(D = 50 ) #>  #> Estimated parameters: #> (Intercept)         S.1           Z       S.1:Z  #>      -0.510      -0.298      -1.272      -0.941  #> \tConvergence:  TRUE  #>  #> \tNo bootstraps present, see ?ps_bootstrap."},{"path":"https://sachsmc.github.io/pseval/reference/add_integration.html","id":null,"dir":"Reference","previous_headings":"","what":"Integration models — add_integration","title":"Integration models — add_integration","text":"Add integration model psdesign object","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_integration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Integration models — add_integration","text":"","code":"add_integration(psdesign, integration)"},{"path":"https://sachsmc.github.io/pseval/reference/add_integration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Integration models — add_integration","text":"psdesign psdesign object integration integration object","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_integration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Integration models — add_integration","text":"list available integration models. fundamental problem surrogate evaluation unobserved values counterfactual surrogate responses S(1). estimated maximum likelihood framework, subjects missing S(1) values, use auxiliary pre-treatment variable set variables W observed every subject estimate distribution S(1) | W. Typically, W BIP. missing S(1), integrate likelihood contributions non-missing S(1) given value W, average contributions. integrate_parametric parametric integration model fits linear model mean S(1) | W assumes Gaussian distribution. integrate_bivnorm another parametric integration model assumes S(1) W jointly normally distributed. user must specify mean, variances correlation. integrate_nonparametric non-parametric integration model valid categorical S(1) W. uses observed proportions estimate joint distribution S(1), W. integrate_semiparametric semi-parametric model uses semi-parametric location scale model Heagerty Pepe (1999). Models specified location S(1) | W scale S(1) | W. integrations drawn empirical distribution residuals model, transformed appropriate location scale.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_integration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Integration models — add_integration","text":"","code":"test <- psdesign(generate_example_data(n = 100), Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) add_integration(test, integrate_parametric(S.1 ~ BIP)) #> Augmented data frame:  100  obs. by  6  variables.  #>   Z Y  S.1    S.0 cdfweights    BIP #> 1 0 1   NA -0.739          1 -0.891 #> 2 0 0   NA -0.113          1 -0.117 #> 3 0 0   NA -0.868          1 -0.942 #> 4 1 0 1.97     NA          1  1.116 #> 5 1 0 1.45     NA          1  0.470 #> 6 1 0 2.02     NA          1  0.861 #>  #> Empirical TE:  0.267  #>  #> Mapped variables:  #> \t Z  ->  Z  #> \t Y  ->  Y.obs  #> \t S  ->  S.obs  #> \t BIP  ->  BIP  #>  #> Integration models:  #> \t integration model for  S.1 : #> \t\t integrate_parametric(formula = S.1 ~ BIP ) #>  #> Risk models:  #> \tNone present, see ?add_riskmodel for information on risk models. #> \tNo estimates present, see ?ps_estimate. #> \tNo bootstraps present, see ?ps_bootstrap. test + integrate_parametric(S.1 ~ BIP)  # same as above #> Augmented data frame:  100  obs. by  6  variables.  #>   Z Y  S.1    S.0 cdfweights    BIP #> 1 0 1   NA -0.739          1 -0.891 #> 2 0 0   NA -0.113          1 -0.117 #> 3 0 0   NA -0.868          1 -0.942 #> 4 1 0 1.97     NA          1  1.116 #> 5 1 0 1.45     NA          1  0.470 #> 6 1 0 2.02     NA          1  0.861 #>  #> Empirical TE:  0.267  #>  #> Mapped variables:  #> \t Z  ->  Z  #> \t Y  ->  Y.obs  #> \t S  ->  S.obs  #> \t BIP  ->  BIP  #>  #> Integration models:  #> \t integration model for  S.1 : #> \t\t integrate_parametric(formula = S.1 ~ BIP ) #>  #> Risk models:  #> \tNone present, see ?add_riskmodel for information on risk models. #> \tNo estimates present, see ?ps_estimate. #> \tNo bootstraps present, see ?ps_bootstrap."},{"path":"https://sachsmc.github.io/pseval/reference/add_riskmodel.html","id":null,"dir":"Reference","previous_headings":"","what":"Add risk model to a psdesign object — add_riskmodel","title":"Add risk model to a psdesign object — add_riskmodel","text":"Add risk model psdesign object","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_riskmodel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add risk model to a psdesign object — add_riskmodel","text":"","code":"add_riskmodel(psdesign, riskmodel)"},{"path":"https://sachsmc.github.io/pseval/reference/add_riskmodel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add risk model to a psdesign object — add_riskmodel","text":"psdesign psdesign object riskmodel risk model object, list ","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_riskmodel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add risk model to a psdesign object — add_riskmodel","text":"risk model component specifies likelihood data. involves specifying distribution outcome variable, whether binary time--event, specifying surrogate S(1) treatment Z interact affect outcome. use formula notation consistent regression type models R. list available risk models. risk_binary generic risk model binary outcomes. user can specify formula, link function using either risk.logit logistic link, risk.probit probit link. Custom link functions may also specified, take single numeric vector argument, returns vector corresponding probabilities. risk_weibull parameterization Weibull model time--event outcomes consistent rweibull. user specifies formula linear predictor scale parameter. risk_exponential simple exponential model time--event outcome. risk_poisson Poisson model count outcomes. allows offsets formula. risk_continuous Gaussian model continuous outcomes. assumes larger values outcome harmful (e.g. blood pressure)","code":""},{"path":"https://sachsmc.github.io/pseval/reference/add_riskmodel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add risk model to a psdesign object — add_riskmodel","text":"","code":"test <- psdesign(generate_example_data(n = 100), Z = Z, Y = Y.obs, S = S.obs, BIP = BIP) +      integrate_parametric(S.1 ~ BIP) add_riskmodel(test, risk_binary()) #> Augmented data frame:  100  obs. by  6  variables.  #>   Z Y    S.1    S.0 cdfweights      BIP #> 1 0 0     NA -0.542          1 -0.51164 #> 2 1 0  1.095     NA          1 -0.00197 #> 3 0 0     NA  1.751          1  1.78313 #> 4 0 1     NA  1.062          1  1.03138 #> 5 0 0     NA -0.501          1 -0.58070 #> 6 1 0 -0.422     NA          1 -1.59308 #>  #> Empirical TE:  0.744  #>  #> Mapped variables:  #> \t Z  ->  Z  #> \t Y  ->  Y.obs  #> \t S  ->  S.obs  #> \t BIP  ->  BIP  #>  #> Integration models:  #> \t integration model for  S.1 : #> \t\t integrate_parametric(formula = S.1 ~ BIP ) #>  #> Risk models:  #> \t risk_binary( ) #>  #> \tNo estimates present, see ?ps_estimate. #> \tNo bootstraps present, see ?ps_bootstrap. test + risk_binary() # same as above #> Augmented data frame:  100  obs. by  6  variables.  #>   Z Y    S.1    S.0 cdfweights      BIP #> 1 0 0     NA -0.542          1 -0.51164 #> 2 1 0  1.095     NA          1 -0.00197 #> 3 0 0     NA  1.751          1  1.78313 #> 4 0 1     NA  1.062          1  1.03138 #> 5 0 0     NA -0.501          1 -0.58070 #> 6 1 0 -0.422     NA          1 -1.59308 #>  #> Empirical TE:  0.744  #>  #> Mapped variables:  #> \t Z  ->  Z  #> \t Y  ->  Y.obs  #> \t S  ->  S.obs  #> \t BIP  ->  BIP  #>  #> Integration models:  #> \t integration model for  S.1 : #> \t\t integrate_parametric(formula = S.1 ~ BIP ) #>  #> Risk models:  #> \t risk_binary( ) #>  #> \tNo estimates present, see ?ps_estimate. #> \tNo bootstraps present, see ?ps_bootstrap."},{"path":"https://sachsmc.github.io/pseval/reference/calc_STG.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Standardized total gain — calc_STG","title":"Calculate the Standardized total gain — calc_STG","text":"Computes standardized total gain risk difference. Optionally produces bootstrap standard errors confidence intervals. standardized total gain area risk difference curve horizontal line marginal risk difference. outcome time event STG time-dependent, time point evaluation needed. one provided restricted mean survival estimated data used.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/calc_STG.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Standardized total gain — calc_STG","text":"","code":"calc_STG(   psdesign,   t,   sig.level = 0.05,   n.samps = 5000,   bootstraps = TRUE,   permute = TRUE,   permute.times = 2000,   progress.bar = TRUE )"},{"path":"https://sachsmc.github.io/pseval/reference/calc_STG.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Standardized total gain — calc_STG","text":"psdesign psdesign object. must contain risk model, integration model, estimated parameters. Bootstrapped parameters optional t time event outcomes, fixed time t may provided compute cumulative distribution function. , restricted mean survival time used. Omit binary outcomes. sig.level Significance level bootstrap confidence intervals n.samps number samples take range S.1 VE calculated bootstraps true, bootstrapped estimates present, calculate bootstrap standard errors confidence interval. permute used, included backwards compatibility permute.times used, included backwards compatibility progress.bar used, included backwards compatibility","code":""},{"path":"https://sachsmc.github.io/pseval/reference/calc_risk.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the risk and functions of the risk — calc_risk","title":"Calculate the risk and functions of the risk — calc_risk","text":"Computes treatment efficacy (TE) functions risk treatment arm range surrogate values observed data. TE(s) defined 1 - risk(s, z = 1)/risk(s, z = 0), z treatment indicator. variables present risk model, risk computed median value.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/calc_risk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the risk and functions of the risk — calc_risk","text":"","code":"calc_risk(   psdesign,   contrast = \"TE\",   t,   sig.level = 0.05,   CI.type = \"band\",   n.samps = 5000,   bootstraps = TRUE,   newdata = NULL )"},{"path":"https://sachsmc.github.io/pseval/reference/calc_risk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the risk and functions of the risk — calc_risk","text":"psdesign psdesign object. must contain risk model, integration model, estimated parameters. Bootstrapped parameters optional contrast contrast function, name contrast function. See details. t time event outcomes, fixed time t may provided compute cumulative distribution function. , restricted mean survival time used. Omit binary outcomes. sig.level Significance level bootstrap confidence intervals CI.type Character string, \"pointwise\" pointwise confidence intervals, \"band\" simultaneous confidence band. n.samps number samples take range S.1 contrast calculated bootstraps true, bootstrapped estimates present, calculate bootstrap standard errors confidence bands. newdata Vector S values. present, calculate contrast function values newdata instead observed S.1","code":""},{"path":"https://sachsmc.github.io/pseval/reference/calc_risk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the risk and functions of the risk — calc_risk","text":"data frame containing columns S values, computed   contrast function S, R0, R1 S values, optionally   standard errors confidence intervals computed using bootstrapped   estimates.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/calc_risk.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the risk and functions of the risk — calc_risk","text":"contrast function function takes 2 inputs, risk_0   risk_1, returns one dimensional function two inputs.   must vectorized. built-functions \"TE\" treatment   efficacy = 1 - risk_1(s)/risk_0(s), \"RR\" relative risk =   risk_1(s)/risk_0(s), \"logRR\" log relative risk,   \"RD\" risk difference = risk_1(s) - risk_0(s).","code":""},{"path":"https://sachsmc.github.io/pseval/reference/calc_risk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the risk and functions of the risk — calc_risk","text":"","code":"if (FALSE) { # \\dontrun{ # same result passing function name or function calc_risk(binary.boot, contrast = \"TE\", n.samps = 20) calc_risk(binary.boot, contrast = function(R0, R1) 1 - R1/R0, n.samps = 20) } # }"},{"path":"https://sachsmc.github.io/pseval/reference/empirical_TE.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the empirical Treatment Efficacy — empirical_TE","title":"Compute the empirical Treatment Efficacy — empirical_TE","text":"Compute empirical Treatment Efficacy","code":""},{"path":"https://sachsmc.github.io/pseval/reference/empirical_TE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the empirical Treatment Efficacy — empirical_TE","text":"","code":"empirical_TE(psdesign, t)"},{"path":"https://sachsmc.github.io/pseval/reference/empirical_TE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the empirical Treatment Efficacy — empirical_TE","text":"psdesign object class psdesign t Fixed time time event outcomes compute TE. missing, uses restricted mean survival.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/empirical_VE.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the empirical Treatment Efficacy — empirical_VE","title":"Compute the empirical Treatment Efficacy — empirical_VE","text":"Included backwards compatibility","code":""},{"path":"https://sachsmc.github.io/pseval/reference/empirical_VE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the empirical Treatment Efficacy — empirical_VE","text":"","code":"empirical_VE(psdesign, t)"},{"path":"https://sachsmc.github.io/pseval/reference/empirical_VE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the empirical Treatment Efficacy — empirical_VE","text":"psdesign object class psdesign t Fixed time time event outcomes compute TE. missing, uses restricted mean survival.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/expand_augdata.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand augmented data using the integration function — expand_augdata","title":"Expand augmented data using the integration function — expand_augdata","text":"Expand augmented data using integration function","code":""},{"path":"https://sachsmc.github.io/pseval/reference/expand_augdata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand augmented data using the integration function — expand_augdata","text":"","code":"expand_augdata(model, psdesign, D = 500)"},{"path":"https://sachsmc.github.io/pseval/reference/expand_augdata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand augmented data using the integration function — expand_augdata","text":"model Formula defining risk model psdesign object class psdesign, contains least 1 integration model D number samples take simulated annealing","code":""},{"path":"https://sachsmc.github.io/pseval/reference/generate_example_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate sample data used for testing — generate_example_data","title":"Generate sample data used for testing — generate_example_data","text":"Generate sample data used testing","code":""},{"path":"https://sachsmc.github.io/pseval/reference/generate_example_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate sample data used for testing — generate_example_data","text":"","code":"generate_example_data(n)"},{"path":"https://sachsmc.github.io/pseval/reference/generate_example_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate sample data used for testing — generate_example_data","text":"n Integer, sample size","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_bivnorm.html","id":null,"dir":"Reference","previous_headings":"","what":"Bivariate normal integration models for the missing S(1) — integrate_bivnorm","title":"Bivariate normal integration models for the missing S(1) — integrate_bivnorm","text":"model assumes pair [S(1), W] bivariate normal, W BIP. means, standard deviations, correlation estimated fixed calling function. conditional normal formula applied order get distribution S(1) | W. distribution used integrate missing S(1) values. method requires BIP design.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_bivnorm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bivariate normal integration models for the missing S(1) — integrate_bivnorm","text":"","code":"integrate_bivnorm(x = \"S.1\", mu = c(0, 0), sd = c(1, 1), rho = 0.2)"},{"path":"https://sachsmc.github.io/pseval/reference/integrate_bivnorm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bivariate normal integration models for the missing S(1) — integrate_bivnorm","text":"x, expression identifying variable integrated. Typically S.1 S.0 mu, means pair surrogates, missing one first sd, standard deviations pair, missing one first rho, correlation X1 X2","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_nonparametric.html","id":null,"dir":"Reference","previous_headings":"","what":"Nonparametric integration model for the missing S(1) — integrate_nonparametric","title":"Nonparametric integration model for the missing S(1) — integrate_nonparametric","text":"S(1) BIP set BIPs must categorical. model integrates estimated distribution S(1) | BIP","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_nonparametric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nonparametric integration model for the missing S(1) — integrate_nonparametric","text":"","code":"integrate_nonparametric(formula, ...)"},{"path":"https://sachsmc.github.io/pseval/reference/integrate_nonparametric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nonparametric integration model for the missing S(1) — integrate_nonparametric","text":"formula Formula specifying integration model surrogate treatment. Generally candidate surrogate left side formula, BIP BIPs right side. case BIP S(1) must categorical. ... currently used","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_parametric.html","id":null,"dir":"Reference","previous_headings":"","what":"Parametric integration model for the missing S(1) — integrate_parametric","title":"Parametric integration model for the missing S(1) — integrate_parametric","text":"Parametric integration model missing S(1)","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_parametric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parametric integration model for the missing S(1) — integrate_parametric","text":"","code":"integrate_parametric(formula, family = gaussian, ...)"},{"path":"https://sachsmc.github.io/pseval/reference/integrate_parametric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parametric integration model for the missing S(1) — integrate_parametric","text":"formula Formula specifying integration model surrogate treatment. Generally candidate surrogate left side formula, BIP BIPs right side family Assumed distribution integration model. Must compatible family argument glm. Currently Gaussian models supported ... Arguments passed glm","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_semiparametric.html","id":null,"dir":"Reference","previous_headings":"","what":"Semiparametric integration model using the location-scale model — integrate_semiparametric","title":"Semiparametric integration model using the location-scale model — integrate_semiparametric","text":"Semiparametric integration model using location-scale model","code":""},{"path":"https://sachsmc.github.io/pseval/reference/integrate_semiparametric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Semiparametric integration model using the location-scale model — integrate_semiparametric","text":"","code":"integrate_semiparametric(formula.location, formula.scale, ...)"},{"path":"https://sachsmc.github.io/pseval/reference/integrate_semiparametric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Semiparametric integration model using the location-scale model — integrate_semiparametric","text":"formula.location Formula specifying integration model location component surrogate treatment. Generally candidate surrogate left side formula, BIP BIPs right side formula.scale Formula specifying integration model scale component surrogate treatment. Generally candidate surrogate left side formula, BIP BIPs right side ... parameters passed sp_locscale","code":""},{"path":"https://sachsmc.github.io/pseval/reference/plot.psdesign.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot summary statistics for a psdesign object — plot.psdesign","title":"Plot summary statistics for a psdesign object — plot.psdesign","text":"Plot treatment efficacy another contrast risk versus S.1 estimated psdesign object","code":""},{"path":"https://sachsmc.github.io/pseval/reference/plot.psdesign.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot summary statistics for a psdesign object — plot.psdesign","text":"","code":"# S3 method for class 'psdesign' plot(   x,   t,   contrast = \"TE\",   sig.level = 0.05,   CI.type = \"band\",   n.samps = 500,   xlab = \"S.1\",   ylab = contrast,   col = 1,   lty = 1,   lwd = 1,   ... )"},{"path":"https://sachsmc.github.io/pseval/reference/plot.psdesign.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot summary statistics for a psdesign object — plot.psdesign","text":"x psdesign object contains risk model, integration model, valid estimates t time event outcomes, fixed time t may provided compute cumulative distribution function. , restricted mean survival time used. Omit binary outcomes. contrast Name contrast function plot. \"TE\" \"VE\" treatment (vaccine) efficacy = 1 - risk_1(s)/risk_0(s), \"RR\" relative risk = risk_1(s)/risk_0(s), \"logRR\" log relative risk, \"risk\" risk treatment arm, \"RD\" risk difference = risk_1(s) - risk_0(s). can also pass custom function directly long takes 2 vectors input (risk0 risk1) returns 1 vector length. sig.level Significance level used confidence bands contrast curve. used bootstrapped estimates available. CI.type Character string, \"pointwise\" pointwise confidence intervals, \"band\" simultaneous confidence band. n.samps Number samples use range S.1 plotting curve xlab X-axis label ylab Y-axis label col Vector integers specifying colors curve. lty Vector integers specifying linetypes curve. lwd Vector numeric values line widths. ... arguments passed plot","code":""},{"path":"https://sachsmc.github.io/pseval/reference/plus-.ps.html","id":null,"dir":"Reference","previous_headings":"","what":"Modify a psdesign object by adding on new components. — +.ps","title":"Modify a psdesign object by adding on new components. — +.ps","text":"operator allows add objects psdesign object, integration models risk models","code":""},{"path":"https://sachsmc.github.io/pseval/reference/plus-.ps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modify a psdesign object by adding on new components. — +.ps","text":"","code":"# S3 method for class 'ps' p1 + p2"},{"path":"https://sachsmc.github.io/pseval/reference/plus-.ps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modify a psdesign object by adding on new components. — +.ps","text":"p1 object class psdesign p2 Another object added p1, see list possible options first object object class psdesign, can add following types objects, return modified psdesign object. Users generally add order appear. integration: Add replace integration model riskmodel: Add replace risk model estimate: Estimate parameters bootstrap: Bootstrap estimates","code":""},{"path":"https://sachsmc.github.io/pseval/reference/print.psdesign.html","id":null,"dir":"Reference","previous_headings":"","what":"Concisely print information about a psdesign object — print.psdesign","title":"Concisely print information about a psdesign object — print.psdesign","text":"Concisely print information psdesign object","code":""},{"path":"https://sachsmc.github.io/pseval/reference/print.psdesign.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concisely print information about a psdesign object — print.psdesign","text":"","code":"# S3 method for class 'psdesign' print(x, digits = 3, sig.level = 0.05, ...)"},{"path":"https://sachsmc.github.io/pseval/reference/print.psdesign.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concisely print information about a psdesign object — print.psdesign","text":"x object class psdesign digits Number significant digits display sig.level Significance level use computing bootstrapped confidence intervals ... Currently unused","code":""},{"path":"https://sachsmc.github.io/pseval/reference/ps_bootstrap.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate parameters from a specified model using bootstrap resampling and estimated maximum likelihood — ps_bootstrap","title":"Estimate parameters from a specified model using bootstrap resampling and estimated maximum likelihood — ps_bootstrap","text":"Estimate parameters specified model using bootstrap resampling estimated maximum likelihood","code":""},{"path":"https://sachsmc.github.io/pseval/reference/ps_bootstrap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate parameters from a specified model using bootstrap resampling and estimated maximum likelihood — ps_bootstrap","text":"","code":"ps_bootstrap(   n.boots = 200,   progress.bar = TRUE,   start = NULL,   method = \"BFGS\",   control = list(),   ... )"},{"path":"https://sachsmc.github.io/pseval/reference/ps_bootstrap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate parameters from a specified model using bootstrap resampling and estimated maximum likelihood — ps_bootstrap","text":"n.boots Number bootstrap replicates progress.bar Logical, true display progress bar console start Vector starting values, NULL, come starting values method Method use optimization, can \"pseudo-score\" categorical S nonparametric integration, methods available optim. Defaults \"BFGS\" control List control parameters passed optim ... Arguments passed optim","code":""},{"path":"https://sachsmc.github.io/pseval/reference/ps_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate parameters from a specified model using estimated maximum likelihood — ps_estimate","title":"Estimate parameters from a specified model using estimated maximum likelihood — ps_estimate","text":"Estimate parameters specified model using estimated maximum likelihood","code":""},{"path":"https://sachsmc.github.io/pseval/reference/ps_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate parameters from a specified model using estimated maximum likelihood — ps_estimate","text":"","code":"ps_estimate(start = NULL, method = \"BFGS\", control = list(), ...)"},{"path":"https://sachsmc.github.io/pseval/reference/ps_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate parameters from a specified model using estimated maximum likelihood — ps_estimate","text":"start Vector starting values, NULL, come starting values method Method use optimization, can \"pseudo-score\" categorical BIP, methods available optim. Defaults \"BFGS\" control List control parameters passed optim ... Arguments passed optim pseudo_score.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/psdesign.html","id":null,"dir":"Reference","previous_headings":"","what":"Specify a design for a principal surrogate evaluation — psdesign","title":"Specify a design for a principal surrogate evaluation — psdesign","text":"Generate mappings describe variables data mapped components principal surrogate analysis. data, list key-value pairs describing common elements ps analysis. required keys Z, Y, S. Optional keys BIP, CPV, BSM, weights. elements described details . Additional keys-value pairs can included .... function generates augmented dataset additional information subsequent steps analysis. subsequent steps, refer variables keys. See add_integration add_riskmodel information proceed analysis.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/psdesign.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specify a design for a principal surrogate evaluation — psdesign","text":"","code":"psdesign(   data,   Z,   Y,   S,   BIP = NULL,   CPV = NULL,   BSM = NULL,   weights = NULL,   tau,   ... )"},{"path":"https://sachsmc.github.io/pseval/reference/psdesign.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specify a design for a principal surrogate evaluation — psdesign","text":"data Data frame containing data analyzed Z Expression defining treatment variable 2 levels Y Expression defining outcome variable. binary events coded 0/1 factor 2 levels. censored time--event outcomes can call Surv S Expression defining candidate surrogate BIP Optional expression defining baseline irrelevant predictor CPV Optional expression defining closeout placebo vaccination measurement BSM Optional expression defining baseline surrogate measurement weights optional expression defining weights accommodate nonrandom subsampling, case control two phase tau numeric, outcome Y survival time, possible surrogate measured time tau enrollment. Use argument tau specify time surrogate measured, study time. required binary Y. ... key-value pairs included augmented data, e.g. additional candidate surrogates, covariates adjustment, variables used integration","code":""},{"path":"https://sachsmc.github.io/pseval/reference/pseudo_score.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate parameters from a specified model using pseudo-score — pseudo_score","title":"Estimate parameters from a specified model using pseudo-score — pseudo_score","text":"Estimate parameters specified model using pseudo-score","code":""},{"path":"https://sachsmc.github.io/pseval/reference/pseudo_score.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate parameters from a specified model using pseudo-score — pseudo_score","text":"","code":"pseudo_score(psdesign, start = NULL, epsilon = 1e-05, maxit = 50)"},{"path":"https://sachsmc.github.io/pseval/reference/pseudo_score.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate parameters from a specified model using pseudo-score — pseudo_score","text":"psdesign object class psdesign start Vector starting values, NULL, come starting values epsilon Convergence criteria maxit Maximum number iterations","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk.logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Logit link function — risk.logit","title":"Logit link function — risk.logit","text":"Logit link function","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk.logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logit link function — risk.logit","text":"","code":"risk.logit(x)"},{"path":"https://sachsmc.github.io/pseval/reference/risk.logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Logit link function — risk.logit","text":"x vector linear predictors","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk.logit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Logit link function — risk.logit","text":"vector probabilities","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk.probit.html","id":null,"dir":"Reference","previous_headings":"","what":"Probit link function — risk.probit","title":"Probit link function — risk.probit","text":"Probit link function","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk.probit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Probit link function — risk.probit","text":"","code":"risk.probit(x)"},{"path":"https://sachsmc.github.io/pseval/reference/risk.probit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Probit link function — risk.probit","text":"x vector linear predictors","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk.probit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Probit link function — risk.probit","text":"vector probabilities","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_binary.html","id":null,"dir":"Reference","previous_headings":"","what":"Risk model for binary outcome — risk_binary","title":"Risk model for binary outcome — risk_binary","text":"Risk model binary outcome","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_binary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Risk model for binary outcome — risk_binary","text":"","code":"risk_binary(model = Y ~ S.1 * Z, D = 5000, risk = risk.logit)"},{"path":"https://sachsmc.github.io/pseval/reference/risk_binary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Risk model for binary outcome — risk_binary","text":"model Formula specifying risk model D number samples simulated annealing integration risk Function transforming linear predictor probability. E.g., risk.logit logistic model, risk.probit probit model","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_continuous.html","id":null,"dir":"Reference","previous_headings":"","what":"Risk model for continuous outcome — risk_continuous","title":"Risk model for continuous outcome — risk_continuous","text":"model assumes outcome Y normally distributed conditional S.1 Z, mean determined model formula. also assumes larger values Y indicative poor outcomes, e.g., blood pressure.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_continuous.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Risk model for continuous outcome — risk_continuous","text":"","code":"risk_continuous(model = Y ~ S.1 * Z, D = 5000)"},{"path":"https://sachsmc.github.io/pseval/reference/risk_continuous.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Risk model for continuous outcome — risk_continuous","text":"model Formula specifying risk model mean D number samples simulated annealing integration","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_exponential.html","id":null,"dir":"Reference","previous_headings":"","what":"Exponential risk model for time to event outcome — risk_exponential","title":"Exponential risk model for time to event outcome — risk_exponential","text":"Exponential risk model time event outcome","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_exponential.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Exponential risk model for time to event outcome — risk_exponential","text":"","code":"risk_exponential(model = Y ~ S.1 * Z, D = 5000)"},{"path":"https://sachsmc.github.io/pseval/reference/risk_exponential.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Exponential risk model for time to event outcome — risk_exponential","text":"model Formula specifying risk model. outcome Surv object specifying right censoring D number samples simulated annealing","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_poisson.html","id":null,"dir":"Reference","previous_headings":"","what":"Poisson risk model for count outcomes — risk_poisson","title":"Poisson risk model for count outcomes — risk_poisson","text":"Poisson risk model count outcomes","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_poisson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Poisson risk model for count outcomes — risk_poisson","text":"","code":"risk_poisson(model = Y ~ S.1 * Z, D = 5000)"},{"path":"https://sachsmc.github.io/pseval/reference/risk_poisson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Poisson risk model for count outcomes — risk_poisson","text":"model Formula specifying risk model. outcome integer counts. right side formula may contain offset term. D number samples simulated annealing","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_weibull.html","id":null,"dir":"Reference","previous_headings":"","what":"Weibull risk model for time to event outcome — risk_weibull","title":"Weibull risk model for time to event outcome — risk_weibull","text":"Weibull risk model time event outcome","code":""},{"path":"https://sachsmc.github.io/pseval/reference/risk_weibull.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weibull risk model for time to event outcome — risk_weibull","text":"","code":"risk_weibull(model = Y ~ S.1 * Z, D = 5000)"},{"path":"https://sachsmc.github.io/pseval/reference/risk_weibull.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weibull risk model for time to event outcome — risk_weibull","text":"model Formula specifying risk model. outcome Surv object specifying right censoring D number samples simulated annealing","code":""},{"path":"https://sachsmc.github.io/pseval/reference/riskcalc.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate risks with handlers for survival data — riskcalc","title":"Calculate risks with handlers for survival data — riskcalc","text":"Calculate risks handlers survival data","code":""},{"path":"https://sachsmc.github.io/pseval/reference/riskcalc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate risks with handlers for survival data — riskcalc","text":"","code":"riskcalc(risk.function, Y, par, t, dat0, dat1)"},{"path":"https://sachsmc.github.io/pseval/reference/riskcalc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate risks with handlers for survival data — riskcalc","text":"risk.function Function taking three arguments, data.frame, parameters, time. return vector number rows data frame Y outcome variable par vector parameter values t Time survival outcome, may missing dat0 Data frame containing S Z = 1 dat1 Data frame containing S Z = 0","code":""},{"path":"https://sachsmc.github.io/pseval/reference/sp_locscale.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit the semi-parametric location-scale model — sp_locscale","title":"Fit the semi-parametric location-scale model — sp_locscale","text":"estimates location-scale model described Heagerty Pepe (1999) using Newton-Raphson method. location scale formulas must outcome, may different predictors.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/sp_locscale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit the semi-parametric location-scale model — sp_locscale","text":"","code":"sp_locscale(   formula.location,   formula.scale,   data,   weights,   tol = 1e-06,   maxit = 100 )"},{"path":"https://sachsmc.github.io/pseval/reference/sp_locscale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit the semi-parametric location-scale model — sp_locscale","text":"formula.location Formula specifying model location formula.scale Formula specifying model scale data Data used estimate model weights Weights applied estimating equations tol Convergence tolerance maxit Maximum number iterations","code":""},{"path":"https://sachsmc.github.io/pseval/reference/sp_locscale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit the semi-parametric location-scale model — sp_locscale","text":"list containing parameter estimates, convergence indicator, residuals","code":""},{"path":"https://sachsmc.github.io/pseval/reference/stg.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the standardized total gain — stg","title":"Compute the standardized total gain — stg","text":"Compute standardized total gain","code":""},{"path":"https://sachsmc.github.io/pseval/reference/stg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the standardized total gain — stg","text":"","code":"stg(R1, R0, stand = TRUE)"},{"path":"https://sachsmc.github.io/pseval/reference/stg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the standardized total gain — stg","text":"R1 Risk treatment group R0 Risk control group stand Standardize?","code":""},{"path":"https://sachsmc.github.io/pseval/reference/summarize_bs.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize bootstrap samples — summarize_bs","title":"Summarize bootstrap samples — summarize_bs","text":"Summarize bootstrap samples","code":""},{"path":"https://sachsmc.github.io/pseval/reference/summarize_bs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize bootstrap samples — summarize_bs","text":"","code":"summarize_bs(bootdf, estdf = NULL, sig.level = 0.05, CI.type = \"band\")"},{"path":"https://sachsmc.github.io/pseval/reference/summarize_bs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize bootstrap samples — summarize_bs","text":"bootdf Data frame containing bootstrapped estimates, column containing convergence indicator estdf Data frame containing full sample estimate sig.level Significance level use confidence intervals CI.type Character string, \"pointwise\" pointwise confidence intervals, \"band\" simultaneous confidence band.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/summary.psdesign.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for psdesign objects — summary.psdesign","title":"Summary method for psdesign objects — summary.psdesign","text":"Summary method psdesign objects","code":""},{"path":"https://sachsmc.github.io/pseval/reference/summary.psdesign.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for psdesign objects — summary.psdesign","text":"","code":"# S3 method for class 'psdesign' summary(object, digits = 3, sig.level = 0.05, ...)"},{"path":"https://sachsmc.github.io/pseval/reference/summary.psdesign.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for psdesign objects — summary.psdesign","text":"object object class psdesign digits Number significant digits display sig.level Significance level use computing bootstrapped confidence intervals ... Currently unused","code":""},{"path":"https://sachsmc.github.io/pseval/reference/summary.psdesign.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for psdesign objects — summary.psdesign","text":"Invisibly returns printed table, along three estimates vaccine efficacy. empirical TE 1 minus relative risk comparing treatment arm control arm. risk estimated proportion binary outcome case, Kaplan-Meier estimate restricted mean survival time--event case. marginal TE estimate TE estimate specified parametric risk model, ignoring effect S.1. model based average TE TE estimate specified risk model, averaged distribution S.1. point displaying three assess validity parametric model, assess validity model estimation. Wild differences among estimates may indicate problems model convergence.","code":""},{"path":"https://sachsmc.github.io/pseval/reference/verify_trt.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that a variable is suitable for using as binary treatment indicator — verify_trt","title":"Check that a variable is suitable for using as binary treatment indicator — verify_trt","text":"Checks two classes gives warning message indicating level assumed 0/1","code":""},{"path":"https://sachsmc.github.io/pseval/reference/verify_trt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that a variable is suitable for using as binary treatment indicator — verify_trt","text":"","code":"verify_trt(D)"},{"path":"https://sachsmc.github.io/pseval/reference/verify_trt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that a variable is suitable for using as binary treatment indicator — verify_trt","text":"D Vector checked 2-class labels","code":""},{"path":"https://sachsmc.github.io/pseval/reference/wem_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Test for wide effect modification — wem_test","title":"Test for wide effect modification — wem_test","text":"runs multivariate Wald test interaction terms model, using bootstrap covariance","code":""},{"path":"https://sachsmc.github.io/pseval/reference/wem_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test for wide effect modification — wem_test","text":"","code":"wem_test(x)"},{"path":"https://sachsmc.github.io/pseval/reference/wem_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test for wide effect modification — wem_test","text":"x object class psdesign bootstrap replicates","code":""}]
